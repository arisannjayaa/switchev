import{l as h,c,f,s as m,h as u,S as p}from"./helper-C0_gHl74.js";$("#table-url").val();$("#asset-url").val();$(".dropify").dropify({messages:{default:'<p style="font-size: 14px !important;">Seret dan letakkan file di sini atau klik</p>',replace:'<p style="font-size: 14px !important;">Seret dan lepas atau klik untuk mengganti</p>',remove:"Hapus",error:"Ooops, Terjadi Kesalahan"},tpl:{wrap:'<div class="dropify-wrapper" style="margin-bottom: .5rem !important; border: 1px #dadfe5 dashed !important; border-radius: .25rem !important; height: 300px;"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',clearButton:'<button type="button" class="dropify-clear btn btn-primary">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}});let a=1;function r(n){$(".card-step").addClass("d-none"),$("#step-"+n).removeClass("d-none"),$(".step-item").removeClass("active"),$(".step-item").eq(n-1).addClass("active")}$("#btn-next").on("click",function(){a<2&&(a++,r(a))});$("#btn-prev").on("click",function(){a>1&&(a--,r(a))});r(a);$(".dropify-clear").click(function(){console.log("OK"),$("#photo").attr("type","file").attr("value","").attr("data-default-file",""),$("#old-photo").remove()});$("#form-candidate").submit(function(n){n.preventDefault(),h();let s=$('input[name="id"]').val(),i=new FormData(this),o=editorVision.getSemanticHTML(),t=editorMission.getSemanticHTML(),l="#btn-submit";if(o=="<p></p>"&&(o=""),t=="<p></p>"&&(t=""),i.append("vision",o),i.append("mission",t),s!=="")var d=$("#update-url").val();else var d=$("#create-url").val();$(l).empty().append(`<div class="spinner-border" role="status">
                                <span class="visually-hidden">Loading...</span>
                                </div>`),fetch(d,{method:"POST",headers:{"X-CSRF-TOKEN":c()},body:i}).then(e=>e.json()).then(e=>{(e.errors||e.invalid)&&(new f(e.errors||e.invalid),m(e.errors)),e.code==200&&($("#candidate-success").html(e.message),a++,r(a))}).catch(e=>{console.log("Error:",e)}).finally(()=>{u(500),$(l).empty().append("Simpan")})});$(document).on("click","a.card-btn.delete",function(){let n=$(this).data("id"),s=$("#delete-url").val(),i=new FormData;i.append("id",n),p.fire({html:`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon mb-2 text-danger icon-lg"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 9v4"></path><path d="M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z"></path><path d="M12 16h.01"></path></svg>
                    <h3>Apakah anda yakin</h3>
                    <div class="text-secondary" style="font-size: 14px !important;">Apakah Anda benar-benar ingin menghapus data ini? Apa yang telah Anda lakukan tidak dapat dibatalkan.</div>`,confirmButtonText:"Hapus",customClass:{confirmButton:"btn btn-danger w-100",cancelButton:"btn w-100"},showCancelButton:!0}).then(o=>{o.isConfirmed&&fetch(s,{method:"POST",headers:{"X-CSRF-TOKEN":c()},body:i}).then(t=>t.json()).then(t=>{t.code==200&&(p.fire({html:`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2 text-green"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M9 12l2 2l4 -4"></path></svg>
                            <h3>Berhasil</h3>
                            <div class="text-secondary">${t.message}</div>`,confirmButtonText:"Ok",confirmButtonColor:"#2fb344",customClass:{confirmButton:"btn btn-success w-100"}}),setTimeout(function(){location.reload()},1e3))}).catch(t=>{console.log("Error:",t)}).finally(()=>{})})});
