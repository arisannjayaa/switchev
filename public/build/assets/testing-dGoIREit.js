import{c as m,n as u,S as h,d as f}from"./helper-DPa9qwI8.js";document.addEventListener("DOMContentLoaded",function(){const o=$("#table-url").val(),r=$("#asset-url").val();$("#table").DataTable({order:[[0,"desc"]],ordering:!0,serverSide:!0,processing:!0,autoWidth:!1,responsive:!0,ajax:{url:o},language:{search:"Cari:",paginate:{first:"Pertama",last:"Terakhir",next:"Berikutnya",previous:"Sebelumnya"},info:"Menampilkan halaman _PAGE_ dari _PAGES_",infoEmpty:"Tidak ada data yang tersedia",infoFiltered:"(Terfilter dari _MAX_ jumlah data)",lengthMenu:"Tampilkan _MENU_ data per halaman",emptyTable:`<div class="text-center"><img class="mb-3" width="200" src="${r+"assets/dist/img/undraw_no_data_re_kwbl.svg"}"><p>Data Masih Kosong</p></div>`,zeroRecords:`<div class="text-center"><img class="mb-3" width="200" src="${r+"assets/dist/img/undraw_not_found_re_bh2e.svg"}"><p>Data Tidak Ditemukan</p></div>`},columns:[{data:"DT_RowIndex",name:"DT_RowIndex",width:"40px",orderable:!1,searchable:!1},{data:"user.name",name:"user.name",className:"text-nowrap",orderable:!1,searchable:!0},{data:"test_letter.workshop_type",name:"test_letter.workshop_type",className:"text-nowrap",orderable:!1,searchable:!0},{data:"testing_status",name:"testing_status",className:"text-nowrap",orderable:!1,searchable:!0},{data:"action",name:"action",className:"text-nowrap",orderable:!1,searchable:!1}],columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:1}]}),$("#form-testing").submit(function(l){l.preventDefault(),$("#id").val();let i=new FormData(this),a="#btn-submit",d=$("#form-testing-url").val();$(a).empty().append(`<div class="spinner-border" role="status">
                                <span class="visually-hidden">Loading...</span>
                                </div>`).prop("disabled",!0),fetch(d,{method:"POST",headers:{"X-CSRF-TOKEN":m()},body:i}).then(e=>e.json()).then(e=>{if(e.code==200&&(u(e.message),setTimeout(()=>{window.location.href=e.data.redirect},2e3)),e.code==403&&(h.fire({html:`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-danger"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M12 8v4"></path><path d="M12 16h.01"></path></svg>
                            <h3>Terjadi Kesalahan</h3>
        <div>${e.message}</div>`,confirmButtonText:"Ok",confirmButtonColor:"#d63939",customClass:{confirmButton:"btn btn-success w-100"}}),$(a).empty().append(e.data.button).prop("disabled",!1)),e.errors||e.invalid){new f(e.errors||e.invalid);let n=!1;$.each(e.errors,function(p){const t=$(`[name="${p}"]`);if(t.length&&!n){const s=$(".row-cards"),c=t.offset().top-s.offset().top-100;s.animate({scrollTop:s.scrollTop()+c},500),t.focus(),n=!0}}),$(a).empty().append("Simpan").prop("disabled",!1)}}).catch(e=>{console.log("Error:",e)}).finally(()=>{$(a).empty().append("Simpan").prop("disabled",!1)})})});
